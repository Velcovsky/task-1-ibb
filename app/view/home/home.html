<div>
    <br />
    <p><strong>Napište v JavaScriptu a v Node.js aplikaci, která</strong></p>
    <ol>
        <li>přijímá HTTP POST požadavky jen na routě /track
            <ol>
                <li>z těla požadavku získá data v JSON formátu</li>
                <li>uloží získaná JSON data do souboru na lokálním disku (append)</li>
                <li>pokud se v datech vyskytuje parametr count, zvýší o jeho hodnotu položku s klíčem 'count' v databázi Redis</li>
            </ol>
        </li>
        <li>přijímá HTTP GET požadavky jen na routě /count
            <ol>
                <li>vrátí hodnotu klíče 'count' v databázi Redis</li>
            </ol>
        </li>
    </ol>

    <p>Napište příslušné unit testy, které zvládnete.</p>


</div>
<hr />
<div>
    <b>Testy:</b>
    <ul>
        <li>Test cest(route)</li>
        <ul>
            <li>POST akce</li>
            <li>GET akce</li>
        </ul>
        <li>Test nastaveni hodnoty count 0 a 100</li>
        <li>Test zátěže aplikace</li>
    </ul>
    <b>Software:</b>
    <ul>
        <li>Node.js v8.4.0</li>
        <li>NPM v5.3.0</li>
        <li>Redis v3.2.1</li>
    </ul>

    <div>
        <p>
            <b>Test zátěže:</b><br/> Pro test zátěže jsem použil SW <a href="https://artillery.io" target="blank">Artillery</a>
            <table class="table table-sm">
                <tbody>
                    <tr>
                        <th>Název</th>
                        <th>Výsledek</th>
                    </tr>
                    <tr>
                        <th>Počet spuštěných událostí</th>
                        <td>3600</td>
                    </tr>
                    <tr>
                        <th>Počet dokončených událostí</th>
                        <td>3600</td>
                    </tr>
                    <tr>
                        <th>Počet akcí na událost</th>
                        <td>4</td>
                    </tr>
                    <tr>
                        <th>Celkem počet akcí</th>
                        <td>14400</td>
                    </tr>
                    <tr>
                        <th>RPS</th>
                        <td>119.47</td>
                    </tr>
                    <tr>
                        <th colspan="2"> Latence požadavku</th>
                    </tr>
                    <tr>
                        <th>min</th>
                        <td>1.3 ms</td>
                    </tr>
                    <tr>
                        <th>max</th>
                        <td>305.2 ms</td>
                    </tr>
                    <tr>
                        <th>median</th>
                        <td>3.1 ms</td>
                    </tr>
                    <tr>
                        <th colspan="2">Doba průběhu scénáře</th>
                    </tr>
                    <tr>
                        <th>min</th>
                        <td>12 ms</td>
                    </tr>
                    <tr>
                        <th>max</th>
                        <td>323.4 ms</td>
                    </tr>
                    <tr>
                        <th>median</th>
                        <td>15.7 ms</td>
                    </tr>

                    <tr>
                        <th colspan="2"> Výsledky odpovědí serveru na požadavky</th>
                    </tr>
                    <tr>
                        <th>Kód odpovědi</th>
                        <th>Počet</th>
                    </tr>
                    <tr>
                        <th>200</th>
                        <td>10800</td>
                    </tr>
                    <tr>
                        <th>400</th>
                        <td>3600</td>
                    </tr>

                </tbody>
            </table>
            <i>HW: Intel Core 6700HQ, RAM 8GB DDR3 1600MHz, SDD (Samsung mznlf128hchp-000h1) + HDD (wdc wd10jpvx-60jc3t0) </i>
        </p>

    </div>
</div>